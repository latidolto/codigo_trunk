<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"> 

<h:head>
	<title>Permiso a Usuarios de el Sietema</title>
	<link rel="stylesheet" href="../css/healthwell.css" />
</h:head>
<h:body styleClass="common-body" id="mainBody">
	<b:form id="mainForm">
   		<b:panel id="formPanel" title="Permiso a Usuarios de el Sistema" look="primary">
   			<b:panelGrid columns="1" >
   				<b:buttonGroup id="mainBttnGrp">
   					<b:commandButton value="Refrescar Usuarios" icon-awesome="refresh" 
	       							 look="primary" 
	       							 size="sm"
	       							 type="button"
	       							 ajax="true"
	       							 update="dtUsuarioPermiso"
	       							 actionListener="#{usuarioPermisoMB.refrescarUsuariosAction}"/>
	       			<b:commandButton value="Guardar Cambios" icon-awesome="save" 
	       							 look="primary" 
	       							 size="sm"
	       							 ajax="true"
	       							 update="formPanel"
	       							 actionListener="#{usuarioPermisoMB.guardarCambiosAction}"/>
   				</b:buttonGroup>
   				<hr/>
   				<b:dataTable value="#{usuarioPermisoMB.usuarioPermiso}" var="row" id="dtUsuarioPermiso" 
   							 select="true" 
   							 selectionMode="single"
   							 ajax="true"
   							 multiColumnSearch="true"
   							 striped="true" 
   							 excel="true"
   							 pdf="true">
   					<b:dataTableColumn label="Usuario" value="#{row.usu_clave}"></b:dataTableColumn>
   					<b:dataTableColumn label="Proceso" searchable="false">
	     				<b:selectOneMenu value="#{row.proceso}" searchable="false">
	     					<f:selectItem itemValue="0" itemLabel="Seleccione..."></f:selectItem>
							<f:selectItems value="#{usuarioPermisoMB.multivaluadaProceso}" var="mul" itemLabel="#{mul.descripcion}" itemValue="#{mul.valor}"></f:selectItems>
	     				</b:selectOneMenu>
   					</b:dataTableColumn>
   					<b:dataTableColumn label="Permiso" searchable="false" style="width : 575px;">
   						<b:panelGrid columns="4">
	   						<b:selectBooleanCheckbox label="Creacion" value="#{row.b_permiso_creacion}" ></b:selectBooleanCheckbox>
	   						<b:selectBooleanCheckbox label="Lectura" value="#{row.b_permiso_lectura}"></b:selectBooleanCheckbox>
	   						<b:selectBooleanCheckbox label="Actualizacion" value="#{row.b_permiso_actualizacion}"></b:selectBooleanCheckbox>
	   						<b:selectBooleanCheckbox label="Borrado" value="#{row.b_permiso_borrado}"></b:selectBooleanCheckbox>
   						</b:panelGrid>
   					</b:dataTableColumn>
   					<b:dataTableColumn label="Fecha Inicial Vigencia" searchable="false">
   						<b:datepicker value="#{row.d_fecha_inicio}"></b:datepicker>
   					</b:dataTableColumn>
   					<b:dataTableColumn label="Fecha Final Vigencia" searchable="false">
   						<b:datepicker value="#{row.d_fecha_fin}"></b:datepicker>
   					</b:dataTableColumn>
   					<b:dataTableColumn label="Estatus" searchable="false">
   						<b:selectOneMenu value="#{row.estatus}" >
	     					<f:selectItem itemValue="0" itemLabel="Inactivo"></f:selectItem>
	     					<f:selectItem itemValue="1" itemLabel="Activo"></f:selectItem>
	     				</b:selectOneMenu>
   					</b:dataTableColumn>
   					
   				</b:dataTable>
   			</b:panelGrid>
   		</b:panel>
   	</b:form>	
</h:body>
</html>
